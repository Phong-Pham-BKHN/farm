<link rel="stylesheet" href="css/app.css">
<main id="main" class="main">

    <div class="pagetitle">
        <h1>Vùng trồng </h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="home">Home</a></li>
                <li class="breadcrumb-item active">Vùng trồng</li>
            </ol>
        </nav>
    </div><!-- End Page Title -->
    <section class="section dashboard">
        <div class="row">
            <div class="col-lg-5">

                <!-- Recent Activity -->
                <div class="card">

                    <div class="card-body" style="text-align: center; ">
                        <h5 class="card-title" id="currentYear"> </h5>
                        <div class="box-center">
                            <div style="width:50%; height:100% ;text-align:center;">
                                <div class="row">
                                    <div class="col-sm-4"> <button id="beforeMonth"><i
                                                class="bi bi-chevron-left"></i></button>
                                    </div>
                                    <div class="col-sm-4">
                                        <div id="currentMonthYear"></div>
                                    </div>
                                    <div class="col-sm-4"> <button id="nextMonth"><i
                                                class="bi bi-chevron-right"></i></button></div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div id="calendar"></div>
                    </div>
                </div><!-- End Recent Activity -->

                <!-- Budget Report -->
            </div><!-- End Right side columns -->
            <!-- Left side columns -->
            <div class="col-lg-7">
                <div class="row">
                    <!-- Reports -->
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Nhiệt độ <span>/Hôm nay</span></h5>
                                <!-- Line Chart -->
                                <!-- End Line Chart -->
                            </div>
                        </div>
                    </div><!-- End Reports -->

                    <!-- Recent Sales -->
                </div>
            </div><!-- End Left side columns -->
            <!-- Right side columns -->
        </div>
    </section>
</main><!-- End #main -->
<script>
    const calendar = document.getElementById("calendar");
    const nextMonthButton = document.getElementById("nextMonth");
    const beforeMonthButton = document.getElementById("beforeMonth");
    const currentMonthYear = document.getElementById("currentMonthYear");
    const currentYear = document.getElementById("currentYear");

    let currentDate = new Date();

    function generateCalendar(year, month) {
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const firstDay = new Date(year, month, 1).getDay();

        let calendarHTML = "<table><tr><th>CN</th><th>T2</th><th>T3</th><th>T4</th><th>T5</th><th>T6</th><th>T7</th></tr><tr>";

        for (let i = 0; i < firstDay; i++) {
            calendarHTML += "<td></td>";
        }

        for (let day = 1; day <= daysInMonth; day++) {
            calendarHTML += `<td>${day}</td>`;
            if ((day + firstDay) % 7 === 0) {
                calendarHTML += "</tr><tr>";
            }
        }

        calendarHTML += "</tr></table>";
        calendar.innerHTML = calendarHTML;
    }

    function displayNextMonth() {
        currentDate.setMonth(currentDate.getMonth() + 1);
        const nextMonthYear = currentDate.getFullYear();
        const nextMonth = currentDate.getMonth();
        generateCalendar(nextMonthYear, nextMonth);
        displayCurrentMonthYear(nextMonthYear, nextMonth);
    }
    function displayBeforeMonth() {
        currentDate.setMonth(currentDate.getMonth() - 1);
        const nextMonthYear = currentDate.getFullYear();
        const nextMonth = currentDate.getMonth();
        generateCalendar(nextMonthYear, nextMonth);
        displayCurrentMonthYear(nextMonthYear, nextMonth);
    }

    function displayCurrentMonthYear(year, month) {
        const months = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"];
        currentMonthYear.textContent = `T ${months[month]}`;
        currentYear.textContent = `Lịch công việc ${year}`
    }

    nextMonthButton.addEventListener("click", displayNextMonth);
    beforeMonthButton.addEventListener("click", displayBeforeMonth);

    generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
    displayCurrentMonthYear(currentDate.getFullYear(), currentDate.getMonth());

</script>